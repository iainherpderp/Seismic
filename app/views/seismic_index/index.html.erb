<div id="top-wrap">
    <div id="header">
        <h1>Seismic Activity</h1>
    </div>

    <button id="getQuakes">Check for new earthquakes</button>

    <div id="earthquakes">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Coords</th>
                    <th>Depth (km)</th>
                    <th>Magnitude</th>
                    <th>Location</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody>
            <% @quake_data['features'].first(10).each  do |quake| %>
                <tr>
                    <td><%= quake['id'] %></td>
                    <td><%= "(%s, %s)" % [quake['geometry']['coordinates'][0], quake['geometry']['coordinates'][1]]  %></td>
                    <td><%= "%skm" % quake['geometry']['coordinates'][2] %></td>
                    <td><%= quake['properties']['mag'] %></td>
                    <td><%= quake['properties']['place'] %></td>
                    <td><%= quake['properties']['time'] %></td>
                </tr>
            <% end %>
            </tbody>
        </table>
    </div>
</div>
<div id="map-wrap">
    <div id="map-canvas"></div>
</div>

<script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDkK_E20EoLgFlfyC-meqVhHSHmXUIYeM8&sensor=false">
</script>
<script type="text/javascript">
    function initialize() {
        var mapOptions = {
            center: new google.maps.LatLng(<%= @quake_data['features'][0]['geometry']['coordinates'][1] %>,<%= @quake_data['features'][0]['geometry']['coordinates'][0] %>),
            zoom: 8,
            scrollwheel: false,
            mapTypeId: google.maps.MapTypeId.TERRAIN
        };
        map = new google.maps.Map(document.getElementById("map-canvas"),
                mapOptions);
    }
    google.maps.event.addDomListener(window, 'load', initialize);
</script>